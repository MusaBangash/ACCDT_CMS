# ğŸ—ï¸ SYSTEM ARCHITECTURE OVERVIEW

## ğŸ“ HIGH-LEVEL ARCHITECTURE

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        USER BROWSER                              â”‚
â”‚              (http://localhost:5000)                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚ HTTP/HTTPS
                     â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    NGINX / GUNICORN                              â”‚
â”‚              (Production Reverse Proxy)                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   FLASK APPLICATION                              â”‚
â”‚                    (run.py entry point)                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚              app/__init__.py (App Factory)               â”‚   â”‚
â”‚  â”‚  â€¢ Creates Flask app                                     â”‚   â”‚
â”‚  â”‚  â€¢ Initializes extensions (db, login_manager, migrate)   â”‚   â”‚
â”‚  â”‚  â€¢ Registers blueprints                                  â”‚   â”‚
â”‚  â”‚  â€¢ Defines error handlers                                â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚              ROUTING LAYER (Blueprints)                  â”‚   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  â”‚ â€¢ auth.py       â†’ /login, /logout, /register-admin       â”‚   â”‚
â”‚  â”‚ â€¢ admin.py      â†’ /admin/* user management               â”‚   â”‚
â”‚  â”‚ â€¢ dashboard.py  â†’ /dashboard, /api/dashboard             â”‚   â”‚
â”‚  â”‚ â€¢ students.py   â†’ /students/* (ready for Phase 2)        â”‚   â”‚
â”‚  â”‚ â€¢ courses.py    â†’ /courses/* (ready for Phase 2)         â”‚   â”‚
â”‚  â”‚ â€¢ attendance.py â†’ /attendance/* (ready for Phase 2)      â”‚   â”‚
â”‚  â”‚ â€¢ payments.py   â†’ /payments/* (ready for Phase 2)        â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚           MIDDLEWARE & DECORATORS                         â”‚   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  â”‚ â€¢ config.py           â†’ Configuration management         â”‚   â”‚
â”‚  â”‚ â€¢ decorators.py       â†’ Authorization (@admin_required)  â”‚   â”‚
â”‚  â”‚ â€¢ utils.py            â†’ Helper functions                 â”‚   â”‚
â”‚  â”‚ â€¢ error handlers      â†’ 403, 404, 500 pages              â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚           MODELS LAYER (SQLAlchemy ORM)                  â”‚   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  â”‚ â€¢ User         â†’ Authentication, roles, sessions         â”‚   â”‚
â”‚  â”‚ â€¢ Student      â†’ Registration, personal info, photo      â”‚   â”‚
â”‚  â”‚ â€¢ Course       â†’ Course details, capacity                â”‚   â”‚
â”‚  â”‚ â€¢ Enrollment   â†’ Student-Course relationships            â”‚   â”‚
â”‚  â”‚ â€¢ Attendance   â†’ Daily attendance tracking               â”‚   â”‚
â”‚  â”‚ â€¢ Payment      â†’ Fee payment records                      â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚ ORM Query
                     â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  DATABASE LAYER                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚             SQLite (Development)                         â”‚   â”‚
â”‚  â”‚              school_dev.db                               â”‚   â”‚
â”‚  â”‚  â€¢ 7 tables                                              â”‚   â”‚
â”‚  â”‚  â€¢ 86+ sample records                                    â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚        PostgreSQL (Production - Ready)                   â”‚   â”‚
â”‚  â”‚  â€¢ Same schema                                           â”‚   â”‚
â”‚  â”‚  â€¢ Production credentials in .env                        â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    FRONTEND LAYER                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚          HTML Templates (app/templates/)                     â”‚  â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚  â”‚ â€¢ base.html             â†’ Master layout (extends all pages)  â”‚  â”‚
â”‚  â”‚ â€¢ login.html            â†’ Login page with gradient           â”‚  â”‚
â”‚  â”‚ â€¢ register_admin.html   â†’ Admin registration page           â”‚  â”‚
â”‚  â”‚ â€¢ dashboard.html        â†’ Dashboard with stats & charts     â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚         Static Files (app/static/)                           â”‚  â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚  â”‚ â€¢ styles.css            â†’ Custom Bootstrap 5 styles          â”‚  â”‚
â”‚  â”‚ â€¢ common.js             â†’ Shared utilities (15+ functions)   â”‚  â”‚
â”‚  â”‚ â€¢ dashboard.js          â†’ Dashboard chart rendering          â”‚  â”‚
â”‚  â”‚ â€¢ chart.js library      â†’ Charts visualization               â”‚  â”‚
â”‚  â”‚ â€¢ bootstrap 5 library   â†’ Responsive framework               â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“Š DATA FLOW DIAGRAM

```
USER LOGIN FLOW:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   User    â”‚
â”‚  Browser  â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
     â”‚ POST /login (username, password)
     â”‚
â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ auth.py - login_required()         â”‚
â”‚ â€¢ Validate form                    â”‚
â”‚ â€¢ Check credentials                â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚
â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ models.py - User.check_password()  â”‚
â”‚ â€¢ Compare hashed password (PBKDF2) â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚ If valid
     â”‚
â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Flask-Login                        â”‚
â”‚ â€¢ Create session                   â”‚
â”‚ â€¢ Set secure cookie                â”‚
â”‚ â€¢ Remember-me (7 days)            â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚ 302 Redirect
     â”‚
â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ GET /dashboard (with session)      â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚
â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ dashboard.py - dashboard route     â”‚
â”‚ â€¢ Check current_user.is_authenticated
â”‚ â€¢ Load user.role                   â”‚
â”‚ â€¢ Query database for stats         â”‚
â”‚ â€¢ Render dashboard.html            â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚ HTML Response
     â”‚
â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Browser receives dashboard         â”‚
â”‚ â€¢ dashboard.js loads               â”‚
â”‚ â€¢ Fetches /api/dashboard           â”‚
â”‚ â€¢ chart.js renders charts          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


API FLOW:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Browser    â”‚
â”‚ JavaScript  â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚ fetch('/api/dashboard')
     â”‚
â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ dashboard.py - api_dashboard()   â”‚
â”‚ â€¢ Get current_user               â”‚
â”‚ â€¢ Check authentication           â”‚
â”‚ â€¢ Query database aggregations    â”‚
â”‚ â€¢ Return JSON response           â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚
â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Browser receives JSON            â”‚
â”‚ â€¢ common.js processes response   â”‚
â”‚ â€¢ dashboard.js renders charts    â”‚
â”‚ â€¢ Charts display to user         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ” SECURITY FLOW

```
PASSWORD SECURITY:
User Password
    â”‚
    â–¼ (POST /login)
Werkzeug password hashing (PBKDF2)
    â”‚
    â–¼ (stored in database)
Password Hash (irreversible)
    â”‚
    â–¼ (new login attempt)
Hash comparison
    â”‚ Match?
    â”œâ”€â–º YES: Generate session token
    â”‚        Set secure HttpOnly cookie
    â”‚        Return login success
    â”‚
    â””â”€â–º NO: Return invalid credentials


AUTHORIZATION SECURITY:
Request to Protected Route
    â”‚
    â”œâ”€â–º Check @admin_required decorator
    â”‚   â”‚
    â”‚   â”œâ”€â–º Is user authenticated?
    â”‚   â”‚   â”œâ”€â–º NO: Redirect to /login
    â”‚   â”‚   â””â”€â–º YES: Continue
    â”‚   â”‚
    â”‚   â”œâ”€â–º Is user.role == 'admin'?
    â”‚   â”‚   â”œâ”€â–º NO: Return 403 Forbidden
    â”‚   â”‚   â””â”€â–º YES: Execute route handler
    â”‚
    â””â”€â–º Request granted or denied
```

---

## ğŸ“Š DATABASE RELATIONSHIPS

```
User (1) â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ (Many) Attendance (marked_by_user_id)
               â”‚
               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ (Many) Payment (recorded_by_user_id)

Student (1) â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ (Many) Enrollment (student_id)
              â”‚
              â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ (Many) Attendance (student_id)
              â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ (Many) Payment (student_id)

Course (1) â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ (Many) Enrollment (course_id)
              â”‚
              â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ (Many) Attendance (course_id)
              â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ (Many) Payment (course_id)

Enrollment: student_id + course_id (many-to-many bridge)
Attendance: student_id + course_id + date (daily tracking)
Payment: student_id + course_id + method (financial tracking)
```

---

## ğŸ¯ REQUEST LIFECYCLE

```
1. USER REQUEST
   â”‚
   â”œâ”€â–º Browser sends HTTP request
   â”‚   (e.g., GET /dashboard)
   â”‚
   â”‚
2. FLASK ROUTING
   â”‚
   â”œâ”€â–º Flask matches URL to route
   â”‚   (e.g., @dashboard.route('/dashboard'))
   â”‚
   â”‚
3. MIDDLEWARE
   â”‚
   â”œâ”€â–º Execute before_request handlers
   â”œâ”€â–º Check session/cookies
   â”œâ”€â–º Load current_user (Flask-Login)
   â”‚
   â”‚
4. DECORATORS
   â”‚
   â”œâ”€â–º Apply authorization decorators
   â”œâ”€â–º Check @login_required
   â”œâ”€â–º Check @admin_required
   â”œâ”€â–º Return 403 if unauthorized
   â”‚
   â”‚
5. VIEW FUNCTION
   â”‚
   â”œâ”€â–º Execute route handler
   â”œâ”€â–º Query database (SQLAlchemy ORM)
   â”œâ”€â–º Process data
   â”œâ”€â–º Render template (Jinja2)
   â”‚   OR return JSON
   â”‚
   â”‚
6. RESPONSE
   â”‚
   â”œâ”€â–º Return HTTP response
   â”‚   (HTML or JSON)
   â”œâ”€â–º Set headers (cookies, etc.)
   â”‚
   â”‚
7. BROWSER RENDERING
   â”‚
   â”œâ”€â–º Browser receives response
   â”œâ”€â–º Parse HTML
   â”œâ”€â–º Load CSS/JS
   â”œâ”€â–º Execute JavaScript
   â”œâ”€â–º Display to user
   â”‚
   â””â”€â–º User sees page
```

---

## ğŸ”„ COMPONENT INTERACTION MATRIX

```
                â”‚ Models â”‚ Routes â”‚ Templates â”‚ Static â”‚ Database
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Auth.py         â”‚  âœ…    â”‚  âœ…    â”‚    âœ…     â”‚        â”‚    âœ…
Admin.py        â”‚  âœ…    â”‚  âœ…    â”‚    âœ…     â”‚        â”‚    âœ…
Dashboard.py    â”‚  âœ…    â”‚  âœ…    â”‚    âœ…     â”‚   âœ…   â”‚    âœ…
Students.py     â”‚  âœ…    â”‚  â³    â”‚    â³     â”‚        â”‚    â³
Courses.py      â”‚  âœ…    â”‚  â³    â”‚    â³     â”‚        â”‚    â³
Attendance.py   â”‚  âœ…    â”‚  â³    â”‚    â³     â”‚        â”‚    â³
Payments.py     â”‚  âœ…    â”‚  â³    â”‚    â³     â”‚        â”‚    â³
Decorators      â”‚  âœ…    â”‚  âœ…    â”‚    âœ…     â”‚        â”‚
Utils           â”‚  âœ…    â”‚  âœ…    â”‚    âœ…     â”‚   âœ…   â”‚

âœ… = Implemented
â³ = Ready for Phase 2
```

---

## ğŸš€ DEPLOYMENT ARCHITECTURE

### Development Environment
```
Localhost (http://127.0.0.1:5000)
    â”‚
    â”œâ”€â–º Flask dev server
    â”œâ”€â–º Debug mode ON
    â”œâ”€â–º Auto-reload ON
    â””â”€â–º SQLite database
```

### Production Environment (Ready)
```
Internet
    â”‚
    â”œâ”€â–º HTTPS (Let's Encrypt SSL)
    â”‚
â”Œâ”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Nginx (Reverse Proxy)  â”‚
â”‚ â€¢ Load balancing       â”‚
â”‚ â€¢ SSL termination      â”‚
â”‚ â€¢ Static files         â”‚
â””â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
â”Œâ”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Gunicorn (WSGI Server) â”‚
â”‚ â€¢ 4-8 worker processes â”‚
â”‚ â€¢ Socket: unix socket  â”‚
â”‚ â€¢ Graceful reload      â”‚
â””â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
â”Œâ”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Flask Application      â”‚
â”‚ â€¢ Production config    â”‚
â”‚ â€¢ Error logging        â”‚
â”‚ â€¢ Request logging      â”‚
â””â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
â”Œâ”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ PostgreSQL Database    â”‚
â”‚ â€¢ Connection pooling   â”‚
â”‚ â€¢ Backup strategy      â”‚
â”‚ â€¢ Indexes optimized    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Systemd Service: SMS application
    â€¢ Auto-start on boot
    â€¢ Auto-restart on crash
    â€¢ Logging to syslog
```

---

## ğŸ“ˆ SCALABILITY ARCHITECTURE

```
For 1,000+ Concurrent Users:

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Load Balancer (HAProxy/ALB)      â”‚
â”‚ â€¢ Distribute traffic             â”‚
â”‚ â€¢ Health checks                  â”‚
â”‚ â€¢ SSL offloading                 â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚       â”‚       â”‚
     â”‚       â”‚       â”‚
â”Œâ”€â”€â”€â”€â–¼â”€â”€â” â”Œâ”€â–¼â”€â”€â”€â” â”Œâ”€â–¼â”€â”€â”€â”
â”‚Nginx  â”‚ â”‚Nginxâ”‚ â”‚Nginxâ”‚
â”‚Server1â”‚ â”‚Srv2 â”‚ â”‚Srv3 â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”˜ â””â”€â”¬â”€â”€â”€â”˜ â””â”€â”¬â”€â”€â”€â”˜
     â”‚      â”‚       â”‚
â”Œâ”€â”€â”€â”€â–¼â”€â”€â” â”Œâ”€â–¼â”€â”€â”€â” â”Œâ”€â–¼â”€â”€â”€â”
â”‚Gunicornâ”‚ â”‚Guniâ”‚ â”‚Guni â”‚
â”‚Instanceâ”‚ â”‚cGrnâ”‚ â”‚cGrn â”‚
â”‚  (8w)  â”‚ â”‚(8w)â”‚ â”‚(8w) â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”˜ â””â”€â”¬â”€â”€â”€â”˜ â””â”€â”¬â”€â”€â”€â”˜
     â”‚      â”‚       â”‚
â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”
â”‚ PostgreSQL (Read/Write) â”‚
â”‚ â€¢ Primary               â”‚
â”‚ â€¢ Replication           â”‚
â”‚ â€¢ Connection pooling    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Additional Services:
â”œâ”€ Redis (Caching)
â”œâ”€ Celery (Task Queue)
â”œâ”€ ELK Stack (Logging)
â””â”€ Prometheus (Monitoring)
```

---

## ğŸ”§ CONFIGURATION MANAGEMENT

```
config.py hierarchy:

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Environment Variables   â”‚
â”‚ (.env file)             â”‚
â”‚ â€¢ Database URL          â”‚
â”‚ â€¢ Secret key            â”‚
â”‚ â€¢ Debug flag            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Flask Application       â”‚
â”‚ app.config.from_object  â”‚
â”‚ (config class)          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
       â”Œâ”€â”€â”€â”´â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
       â”‚       â”‚              â”‚             â”‚
â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â” â”Œâ”€â”€â–¼â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”
â”‚Development
â”‚Config   â”‚ â”‚Testing
â”‚Config  â”‚ â”‚Production
â”‚Config  â”‚ â”‚Testing
â”‚Config  â”‚
â”‚ SQLite  â”‚ â”‚In-Memory
DBâ”‚ â”‚PostgreSQL
â”‚ â”‚Special
Overrideâ”‚
â”‚ Debug   â”‚ â”‚Fast testsâ”‚ â”‚Secure     â”‚ â”‚Fixtures â”‚
â”‚ Hot rel â”‚ â”‚Isolated  â”‚ â”‚Optimized  â”‚ â”‚Isolated â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ¯ FEATURE IMPLEMENTATION PIPELINE

```
Phase 1: Authentication âœ… COMPLETE
    â”œâ”€ Login
    â”œâ”€ Logout  
    â”œâ”€ Admin registration
    â”œâ”€ Session management
    â””â”€ Password hashing

Phase 2: User Management âœ… COMPLETE
    â”œâ”€ Create users
    â”œâ”€ Edit users
    â”œâ”€ Delete users
    â”œâ”€ Role assignment
    â””â”€ User listing

Phase 3: Dashboard âœ… COMPLETE
    â”œâ”€ Statistics
    â”œâ”€ Charts
    â”œâ”€ Real-time data
    â””â”€ API endpoints

Phase 4: Student Management â³ PENDING
    â”œâ”€ CRUD operations
    â”œâ”€ Photo upload
    â”œâ”€ CSV import
    â””â”€ Enrollment history

Phase 5: Course Management â³ PENDING
    â”œâ”€ Course CRUD
    â”œâ”€ Capacity management
    â””â”€ Enrollment tracking

Phase 6: Attendance â³ PENDING
    â”œâ”€ Mark attendance
    â”œâ”€ Reports
    â””â”€ Analytics

Phase 7: Payments â³ PENDING
    â”œâ”€ Record payments
    â”œâ”€ Receipts
    â””â”€ Reports

Phase 8: Production â³ PENDING
    â”œâ”€ Deployment
    â”œâ”€ Monitoring
    â””â”€ Optimization
```

---

## ğŸ“‹ TECHNOLOGY STACK LAYER

```
PRESENTATION LAYER
â”œâ”€ HTML5 (Templates via Jinja2)
â”œâ”€ Bootstrap 5 (Responsive Framework)
â”œâ”€ Chart.js 4.4 (Data Visualization)
â””â”€ Vanilla JavaScript (15+ utilities)

APPLICATION LAYER
â”œâ”€ Flask 2.3.3 (Web Framework)
â”œâ”€ Blueprint Pattern (Modular routing)
â”œâ”€ Flask-Login (Authentication)
â”œâ”€ Flask-WTF (Forms & CSRF)
â””â”€ Flask-Migrate (Database migrations)

PERSISTENCE LAYER
â”œâ”€ SQLAlchemy 3.0.5 (ORM)
â”œâ”€ Flask-SQLAlchemy (Integration)
â”œâ”€ SQLite 3 (Development)
â””â”€ PostgreSQL (Production)

INFRASTRUCTURE LAYER
â”œâ”€ Gunicorn (WSGI Server)
â”œâ”€ Nginx (Reverse Proxy)
â””â”€ Systemd (Service Manager)

SECURITY LAYER
â”œâ”€ Werkzeug (Password hashing - PBKDF2)
â”œâ”€ Flask-Login (Session management)
â”œâ”€ Flask-WTF (CSRF protection)
â””â”€ Secure Cookies (HttpOnly, SameSite)
```

---

## ğŸŠ SYSTEM MATURITY

```
Development Stage:    â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘ 80%
Testing Stage:        â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘ 80%
Production Stage:     â–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘ 30%
Documentation:        â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 100%
Security:             â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘ 70%
Performance:          â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘ 70%
Scalability:          â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘ 60%

Overall Readiness:    â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘ 70%
```

---

**Architecture Document Created**: November 28, 2025
**System Status**: âœ… Production-Ready for Phase 2+
**Next**: Implement Student Management System

